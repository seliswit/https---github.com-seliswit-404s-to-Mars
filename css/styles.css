/* ================================
   RESET + BASE
=================================== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html,
body {
  height: 100%;
}

body {
  font-family: "VT323", monospace;
  background: #000;
  color: #00ff55;
  overflow-x: hidden;
  animation: screen-flicker 8s infinite alternate;
}

/* ================================
   STARFIELD BACKGROUND
=================================== */
.stars {
  position: fixed;
  inset: 0;
  background:
    radial-gradient(2px 2px at 20% 30%, #ffffff, transparent),
    radial-gradient(1.5px 1.5px at 80% 70%, #ffffff, transparent),
    radial-gradient(1px 1px at 50% 50%, #ffffff, transparent);
  opacity: 0.35;
  z-index: -5;
  animation: starfield 45s linear infinite;
}

@keyframes starfield {
  0% { transform: translate(0,0); }
  100% { transform: translate(-240px,240px); }
}

/* ================================
   ASTEROIDS
=================================== */
.asteroids {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -4;
}

.asteroids::before,
.asteroids::after {
  content: "";
  position: absolute;
  width: 14px;
  height: 14px;
  background: radial-gradient(circle, #ccc 0%, #444 80%);
  border-radius: 50%;
  top: -20px;
  left: calc(20% + 30px);
  animation: asteroidFall 6s linear infinite;
  filter: drop-shadow(0 0 6px #00ff55);
}

.asteroids::after {
  left: 70%;
  width: 22px;
  height: 22px;
  animation-duration: 8s;
}

@keyframes asteroidFall {
  0% { transform: translateY(-30px) translateX(0); opacity: 0; }
  10% { opacity: 1; }
  100% { transform: translateY(110vh) translateX(-40px); opacity: 0; }
}

/* ================================
   SPACESHIP FLY-BY
=================================== */
.space-ship {
  position: fixed;
  top: 48%;
  left: -200px;
  width: 150px;
  height: 60px;
  background: url('https://i.imgur.com/psu7wxP.png') no-repeat center/contain;
  filter: drop-shadow(0 0 10px #00ff55);
  animation: ship-move 18s linear infinite;
  z-index: -3;
}

@keyframes ship-move {
  0% { transform: translateX(0); opacity: 0; }
  10% { opacity: 1; }
  80% { opacity: 1; }
  100% { transform: translateX(160vw); opacity: 0; }
}

/* ================================
   CRT STATIC + INTERFERENCE
=================================== */
.static-noise {
  pointer-events: none;
  position: fixed;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    rgba(255,255,255,0.06),
    rgba(255,255,255,0.06) 1px,
    rgba(0,0,0,0.05) 1px,
    rgba(0,0,0,0.05) 3px
  );
  mix-blend-mode: screen;
  z-index: 5;
  opacity: 0.06;
  animation: static-shift 0.6s infinite steps(2);
}

@keyframes static-shift {
  0% { opacity: 0.03; }
  100% { opacity: 0.12; }
}

.tv-interference {
  pointer-events: none;
  position: fixed;
  inset: 0;
  background: repeating-linear-gradient(
    to bottom,
    rgba(0,0,0,0.4),
    rgba(0,0,0,0.4) 2px,
    transparent 2px,
    transparent 6px
  );
  z-index: 4;
  opacity: 0.08;
  animation: tv-roll 4s linear infinite;
}

@keyframes tv-roll {
  0% { transform: translateY(-2%); }
  100% { transform: translateY(2%); }
}

/* CRT vignette & scanlines */
.crt-overlay {
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle, transparent 0%, transparent 60%, rgba(0,0,0,0.9) 100%);
  z-index: -1;
}

.scanlines {
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: repeating-linear-gradient(
    to bottom,
    rgba(0,255,85,0.20) 0px,
    rgba(0,255,85,0.20) 2px,
    transparent 2px,
    transparent 5px
  );
  opacity: 0.4;
  z-index: -2;
}

/* ================================
   HERO / ERROR 404
=================================== */
.hero {
  text-align: center;
  margin-top: 2rem;
}

.error-code-big {
  font-size: clamp(6rem, 17vw, 15rem);
  text-shadow:
    0 0 25px #00ff55,
    0 0 45px #00ff55,
    0 0 90px #00ff55;
  animation: pulse 3s infinite;
}

@keyframes pulse {
  50% { opacity: 0.85; }
}

.status-line {
  margin-top: 0.3rem;
  opacity: 0.9;
}

.status-badge {
  padding: 0.2rem 0.4rem;
  border: 1px solid #00ff55;
  box-shadow: 0 0 6px #00ff55;
}

/* glitch effect */
.glitch-text {
  position: relative;
}

.glitch-text::before,
.glitch-text::after {
  content: attr(data-text);
  position: absolute;
  inset: 0;
  opacity: .75;
}

.glitch-text::before {
  text-shadow: -3px 0 #00ff55;
  animation: glitch 2.4s infinite;
}

.glitch-text::after {
  text-shadow: 3px 0 #00ff55;
  animation: glitch 2.4s infinite reverse;
}

@keyframes glitch {
  0% { clip-path: inset(0 0 0 0); }
  20% { clip-path: inset(12% 0 55% 0); }
  40% { clip-path: inset(40% 0 20% 0); }
  60% { clip-path: inset(70% 0 8% 0); }
  80% { clip-path: inset(50% 0 30% 0); }
  100% { clip-path: inset(0 0 0 0); }
}

/* ================================
   MULTIVERSE MODE
=================================== */
body.multiverse .error-code-big {
  color: #ff00ff;
  text-shadow:
    0 0 25px #ff00ff,
    0 0 45px #ff00ff;
}

/* ================================
   CRITICAL SYSTEM MODE
=================================== */
body.critical .error-code-big {
  color: #ff3333;
  animation: criticalFlash .2s steps(2) infinite;
  text-shadow:
    0 0 40px #ff0000,
    0 0 80px #ff0000;
}

@keyframes criticalFlash {
  50% { opacity: 0.3; }
}

/* ================================
   CONSOLE MENU
=================================== */
.section {
  border-top: 1px solid rgba(0,255,85,0.5);
  padding-top: 1.5rem;
  margin-top: 1.5rem;
}

.console-menu-grid {
  display: grid;
  justify-content: center;
}

.btn {
  border: 1px solid #00ff55;
  background: rgba(0,0,0,0.85);
  padding: .8rem 1rem;
  color: #00ff55;
  cursor: pointer;
  font-size: 1.2rem;
  box-shadow: 0 0 10px #00ff55;
  text-decoration: none;
}

.btn:hover {
  background: rgba(0,255,85,0.12);
  box-shadow: 0 0 14px #00ff55;
}

/* ================================
   SYSTEM SCAN
=================================== */
.loading-frame {
  border: 1px solid #00ff55;
  padding: .4rem;
  width: fit-content;
  box-shadow: 0 0 10px #00ff55 inset;
}

.loading-glass {
  height: 6px;
  background: linear-gradient(to bottom, rgba(255,255,255,0.2), transparent);
}

.loading-bar {
  width: 520px;
  height: 18px;
  border: 1px solid #00ff55;
  overflow: hidden;
}

.loading-bar__progress {
  height: 100%;
  width: 0%;
  background: repeating-linear-gradient(
    90deg,
    #00ff55,
    #00ff55 8px,
    #008833 8px,
    #008833 16px
  );
  box-shadow: 0 0 20px #00ff55;
}

/* ================================
   TERMINAL + INPUT (MINIGAME)
=================================== */
.terminal {
  height: 230px;
  overflow-y: auto;
  background: rgba(0,0,0,0.7);
  border: 1px solid #00ff55;
  padding: .8rem;
  box-shadow: inset 0 0 12px rgba(0,255,85,0.3);
  position: relative;
}

.terminal-input {
  width: 100%;
  background: transparent;
  border: none;
  border-top: 1px solid rgba(0,255,85,0.3);
  padding: .5rem;
  font-size: 1.2rem;
  color: #00ff55;
  outline: none;
}

.terminal-line {
  margin-bottom: .3rem;
}

/* ================================
   SCREEN OFF EFFECT
=================================== */
body.screen-off {
  animation: screenoff .6s linear forwards;
}

@keyframes screenoff {
  0% { opacity: 1; filter: none; }
  100% { opacity: 0; filter: brightness(0) contrast(200%); }
}

/* ================================
   FOOTER
=================================== */
.footer {
  text-align: center;
  opacity: 0.7;
  margin-top: 2rem;
}

.footer-easter {
  margin-top: 0.5rem;
  opacity: 0.85;
  line-height: 1.3;
}

.footer-easter code {
  color: #00ff55;
  border-bottom: 1px dashed rgba(0,255,85,0.4);
}

.footer-title {
  text-shadow: 0 0 4px #00ff55;
}